/* This code was generated by the Vult compiler v1-dev https://github.com/modlfo/vult */

#include "noise.h"

fix16_t Noise_process(Noise_process_type& _ctx, fix16_t color) {
   _ctx.x1 = (7919 + 17389 * _ctx.x1) % 32768;
   fix16_t y1 = fix_mul(0x2 /* 0.000031 */, int_to_fix(_ctx.x1));
   _ctx.x2 = (12553 + 27449 * _ctx.x2) % 32768;
   fix16_t y2 = fix_mul(0x2 /* 0.000031 */, int_to_fix(_ctx.x2));
   fix16_t out = 0.0f;
   if (color > 0x8000 /* 0.500000 */) {
      out = Noise_pinker(_ctx.inst_16d3d, y1 + (- y2));
   }
   else {
      out = y1 + (- y2);
   }
   return fix_mul(0x20000 /* 2.000000 */, out);
}

