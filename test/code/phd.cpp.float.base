/* This code was generated by the Vult compiler v1-dev https://github.com/modlfo/vult */

#include "phd.h"

float Phase_process(Phase_process_type& _ctx, float cv, float reset) {
   if (Util_change(_ctx.inst_1b08a, cv)) {
      _ctx.rate = Util_cvToRate_1024(cv);
   }
   if (Util_edge(_ctx.inst_2048a, (reset > 0.5f))) {
      _ctx.phase = 0.0f;
   }
   else {
      _ctx.phase = (_ctx.phase + _ctx.rate);
   }
   if ((_ctx.phase > 1024.0f)) {
      _ctx.phase = (_ctx.phase - 1024.0f);
   }
   else {
      _ctx.phase = _ctx.phase;
   }
   return (_ctx.phase / 1024.0f);
}

