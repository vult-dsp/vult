/* This code was generated by the Vult compiler v1-dev https://github.com/modlfo/vult */

#include "gates.h"

void Gates_gates_noteOn_type_init(Gates_gates_noteOn_type& _ctx) {
   _ctx.Gates_gates_state_ret_0 = 0x0 /* 0.000000 */;
   _ctx.Gates_gates_state_ret_1 = 0x0 /* 0.000000 */;
   _ctx.Gates_gates_state_ret_2 = 0x0 /* 0.000000 */;
   _ctx.Gates_gates_state_ret_3 = 0x0 /* 0.000000 */;
   _ctx.Gates_gates_state_ret_4 = 0x0 /* 0.000000 */;
   _ctx.Gates_gates_state_ret_5 = 0x0 /* 0.000000 */;
   _ctx.Gates_gates_state_ret_6 = 0x0 /* 0.000000 */;
   _ctx.Gates_gates_state_ret_7 = 0x0 /* 0.000000 */;
   int32_t i_0 = 0;
   while ((i_0 < 8)) {
      _ctx.vel[i_0] = 0;
      i_0 = (1 + i_0);
   }
}

void Gates_process_type_init(Gates_process_type& _ctx) {
   _ctx.Gates_process_ret_0 = 0x0 /* 0.000000 */;
   _ctx.Gates_process_ret_1 = 0x0 /* 0.000000 */;
   _ctx.Gates_process_ret_2 = 0x0 /* 0.000000 */;
   _ctx.Gates_process_ret_3 = 0x0 /* 0.000000 */;
   _ctx.Gates_process_ret_4 = 0x0 /* 0.000000 */;
   _ctx.Gates_process_ret_5 = 0x0 /* 0.000000 */;
   _ctx.Gates_process_ret_6 = 0x0 /* 0.000000 */;
   _ctx.Gates_process_ret_7 = 0x0 /* 0.000000 */;
   _ctx.channel_in = 0;
   Gates_gates_noteOn_type_init(_ctx.gates_dc3a);
}

void Gates_gates_state(Gates_gates_noteOn_type& _ctx) {
   fix16_t vel1 = Gates_velToCV(int_get(_ctx.vel, 0));
   fix16_t vel2 = Gates_velToCV(int_get(_ctx.vel, 1));
   fix16_t vel3 = Gates_velToCV(int_get(_ctx.vel, 2));
   fix16_t vel4 = Gates_velToCV(int_get(_ctx.vel, 3));
   fix16_t vel5 = Gates_velToCV(int_get(_ctx.vel, 4));
   fix16_t vel6 = Gates_velToCV(int_get(_ctx.vel, 5));
   fix16_t vel7 = Gates_velToCV(int_get(_ctx.vel, 6));
   fix16_t vel8 = Gates_velToCV(int_get(_ctx.vel, 7));
   _ctx.Gates_gates_state_ret_0 = vel1;
   _ctx.Gates_gates_state_ret_1 = vel2;
   _ctx.Gates_gates_state_ret_2 = vel3;
   _ctx.Gates_gates_state_ret_3 = vel4;
   _ctx.Gates_gates_state_ret_4 = vel5;
   _ctx.Gates_gates_state_ret_5 = vel6;
   _ctx.Gates_gates_state_ret_6 = vel7;
   _ctx.Gates_gates_state_ret_7 = vel8;
   return ;
}

void Gates_process(Gates_process_type& _ctx, int32_t c) {
   _ctx.channel_in = c;
   Gates_gates_state(_ctx.gates_dc3a);
   fix16_t _call_temp_0 = _ctx.gates_dc3a.Gates_gates_state_ret_0;
   fix16_t _call_temp_1 = _ctx.gates_dc3a.Gates_gates_state_ret_1;
   fix16_t _call_temp_2 = _ctx.gates_dc3a.Gates_gates_state_ret_2;
   fix16_t _call_temp_3 = _ctx.gates_dc3a.Gates_gates_state_ret_3;
   fix16_t _call_temp_4 = _ctx.gates_dc3a.Gates_gates_state_ret_4;
   fix16_t _call_temp_5 = _ctx.gates_dc3a.Gates_gates_state_ret_5;
   fix16_t _call_temp_6 = _ctx.gates_dc3a.Gates_gates_state_ret_6;
   fix16_t _call_temp_7 = _ctx.gates_dc3a.Gates_gates_state_ret_7;
   _ctx.Gates_process_ret_0 = _call_temp_0;
   _ctx.Gates_process_ret_1 = _call_temp_1;
   _ctx.Gates_process_ret_2 = _call_temp_2;
   _ctx.Gates_process_ret_3 = _call_temp_3;
   _ctx.Gates_process_ret_4 = _call_temp_4;
   _ctx.Gates_process_ret_5 = _call_temp_5;
   _ctx.Gates_process_ret_6 = _call_temp_6;
   _ctx.Gates_process_ret_7 = _call_temp_7;
   return ;
}

