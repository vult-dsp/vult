/* This code was generated by the Vult compiler v1-dev https://github.com/vult-dsp/vult */

#include "saw_eptr.h"

float Saw_eptr_process(Saw_eptr_process_type& _ctx, float cv) {
   float y = 0.0f;
   if (Util_change(_ctx.inst_1b09f, cv)) {
      _ctx.rate = Util_cvToRate(cv);
   }
   _ctx.phase = 2.0f * _ctx.rate + _ctx.phase;
   if (_ctx.phase > 1.0f + (- _ctx.rate)) {
      y = -1.0f + (- _ctx.phase / _ctx.rate) + 1.0f / _ctx.rate + _ctx.phase;
      _ctx.phase = -2.0f + _ctx.phase;
   }
   else {
      y = _ctx.phase;
   }
   return y;
}

