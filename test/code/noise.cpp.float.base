/* This code was generated by the Vult compiler v1-dev https://github.com/vult-dsp/vult */

#include "noise.h"

float Noise_pinker(Noise_pinker_type& _ctx, float x) {
   float b0 = 0.027712f;
   float b1 = 0.027712f;
   float a1 = -0.944575f;
   float w0 = x + (- a1 * _ctx.w1);
   float y0 = b0 * w0 + b1 * _ctx.w1;
   _ctx.w1 = w0;
   return y0;
}

float Noise_process(Noise_process_type& _ctx, float color) {
   _ctx.x1 = (7919 + 17389 * _ctx.x1) % 32768;
   float y1 = 3e-05f * int_to_float(_ctx.x1);
   _ctx.x2 = (12553 + 27449 * _ctx.x2) % 32768;
   float y2 = 3e-05f * int_to_float(_ctx.x2);
   float out = 0.0f;
   if (color > 0.5f) {
      out = Noise_pinker(_ctx.inst_16d3d, y1 + (- y2));
   }
   else {
      out = y1 + (- y2);
   }
   return 2.0f * out;
}

